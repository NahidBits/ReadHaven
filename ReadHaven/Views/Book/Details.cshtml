@{
    ViewData["Title"] = "Book Details";
}

<div class="container mt-5" id="book-details-container">
    <h2 class="mb-4">Book Details</h2>

    @if (User.IsInRole("Admin"))
    {
        <!-- Admin Update Form (Inline, compact style) -->
        <div class="bg-light p-3 mb-4 rounded shadow-sm">
            <form id="bookUpdateForm" enctype="multipart/form-data" method="post" class="d-flex align-items-center flex-wrap gap-2">
                <input type="text" class="form-control w-auto" id="Title" name="Title" placeholder="Title" required />
                <input type="text" class="form-control w-auto" id="Genre" name="Genre" placeholder="Genre" required />
                <input type="number" class="form-control w-auto" id="Price" name="Price" step="0.01" placeholder="Price" required />
                <input type="file" class="form-control w-auto" id="Image" name="Image" accept="image/*" />
                <input type="hidden" name="Id" id="bookIdField" value="" />
                <button type="button" class="btn btn-success" onclick="saveBookUpdate()">Save</button>
            </form>
        </div>
    }

    <!-- Book Details Display -->
    <div class="d-flex flex-wrap gap-4 align-items-start">
        <!-- Image Section -->
        <div class="flex-shrink-0">
            <img id="bookImage" src="/uploads/book/Default_image.webp" alt="Book Image" class="img-thumbnail" style="max-width: 250px;" />
        </div>

        <!-- Text Details Section -->
        <div class="flex-grow-1">
            <p><strong>Title:</strong> <span id="ReadTitle"></span></p>
            <p><strong>Genre:</strong> <span id="ReadGenre"></span></p>
            <p><strong>Price:</strong> <span id="ReadPrice"></span></p>
        </div>
    </div>

    <hr />
    <a href="@Url.Action("Index", "Book")" class="btn btn-primary mt-4">Back to List</a>
</div>

<hr />
<div class="mt-5" id="review-carousel-section">
    <h4 class="mb-3">User Reviews</h4>

    <div class="d-flex align-items-center justify-content-between">
        <!-- Left Button -->
        <button class="btn btn-outline-secondary" onclick="previousReview()">
            <i class="bi bi-chevron-left"></i>
        </button>

        <!-- Review Display -->
        <div id="reviewDisplay" class="flex-grow-1 px-3">
            <!-- JS will inject the review here -->
            <div class="text-center">Loading reviews...</div>
        </div>

        <!-- Right Button -->
        <button class="btn btn-outline-secondary" onclick="nextReview()">
            <i class="bi bi-chevron-right"></i>
        </button>
    </div>
</div>




<script src="~/js/Book/Details.js"></script>